{"ast":null,"code":"(function () {\n  var expandIPv6, ipaddr, ipv4Part, ipv4Regexes, ipv6Part, ipv6Regexes, matchCIDR, root, zoneIndex;\n  ipaddr = {};\n  root = this;\n\n  if (typeof module !== \"undefined\" && module !== null && module.exports) {\n    module.exports = ipaddr;\n  } else {\n    root['ipaddr'] = ipaddr;\n  }\n\n  matchCIDR = function (first, second, partSize, cidrBits) {\n    var part, shift;\n\n    if (first.length !== second.length) {\n      throw new Error(\"ipaddr: cannot match CIDR for objects with different lengths\");\n    }\n\n    part = 0;\n\n    while (cidrBits > 0) {\n      shift = partSize - cidrBits;\n\n      if (shift < 0) {\n        shift = 0;\n      }\n\n      if (first[part] >> shift !== second[part] >> shift) {\n        return false;\n      }\n\n      cidrBits -= partSize;\n      part += 1;\n    }\n\n    return true;\n  };\n\n  ipaddr.subnetMatch = function (address, rangeList, defaultName) {\n    var k, len, rangeName, rangeSubnets, subnet;\n\n    if (defaultName == null) {\n      defaultName = 'unicast';\n    }\n\n    for (rangeName in rangeList) {\n      rangeSubnets = rangeList[rangeName];\n\n      if (rangeSubnets[0] && !(rangeSubnets[0] instanceof Array)) {\n        rangeSubnets = [rangeSubnets];\n      }\n\n      for (k = 0, len = rangeSubnets.length; k < len; k++) {\n        subnet = rangeSubnets[k];\n\n        if (address.kind() === subnet[0].kind()) {\n          if (address.match.apply(address, subnet)) {\n            return rangeName;\n          }\n        }\n      }\n    }\n\n    return defaultName;\n  };\n\n  ipaddr.IPv4 = function () {\n    function IPv4(octets) {\n      var k, len, octet;\n\n      if (octets.length !== 4) {\n        throw new Error(\"ipaddr: ipv4 octet count should be 4\");\n      }\n\n      for (k = 0, len = octets.length; k < len; k++) {\n        octet = octets[k];\n\n        if (!(0 <= octet && octet <= 255)) {\n          throw new Error(\"ipaddr: ipv4 octet should fit in 8 bits\");\n        }\n      }\n\n      this.octets = octets;\n    }\n\n    IPv4.prototype.kind = function () {\n      return 'ipv4';\n    };\n\n    IPv4.prototype.toString = function () {\n      return this.octets.join(\".\");\n    };\n\n    IPv4.prototype.toNormalizedString = function () {\n      return this.toString();\n    };\n\n    IPv4.prototype.toByteArray = function () {\n      return this.octets.slice(0);\n    };\n\n    IPv4.prototype.match = function (other, cidrRange) {\n      var ref;\n\n      if (cidrRange === void 0) {\n        ref = other, other = ref[0], cidrRange = ref[1];\n      }\n\n      if (other.kind() !== 'ipv4') {\n        throw new Error(\"ipaddr: cannot match ipv4 address with non-ipv4 one\");\n      }\n\n      return matchCIDR(this.octets, other.octets, 8, cidrRange);\n    };\n\n    IPv4.prototype.SpecialRanges = {\n      unspecified: [[new IPv4([0, 0, 0, 0]), 8]],\n      broadcast: [[new IPv4([255, 255, 255, 255]), 32]],\n      multicast: [[new IPv4([224, 0, 0, 0]), 4]],\n      linkLocal: [[new IPv4([169, 254, 0, 0]), 16]],\n      loopback: [[new IPv4([127, 0, 0, 0]), 8]],\n      carrierGradeNat: [[new IPv4([100, 64, 0, 0]), 10]],\n      \"private\": [[new IPv4([10, 0, 0, 0]), 8], [new IPv4([172, 16, 0, 0]), 12], [new IPv4([192, 168, 0, 0]), 16]],\n      reserved: [[new IPv4([192, 0, 0, 0]), 24], [new IPv4([192, 0, 2, 0]), 24], [new IPv4([192, 88, 99, 0]), 24], [new IPv4([198, 51, 100, 0]), 24], [new IPv4([203, 0, 113, 0]), 24], [new IPv4([240, 0, 0, 0]), 4]]\n    };\n\n    IPv4.prototype.range = function () {\n      return ipaddr.subnetMatch(this, this.SpecialRanges);\n    };\n\n    IPv4.prototype.toIPv4MappedAddress = function () {\n      return ipaddr.IPv6.parse(\"::ffff:\" + this.toString());\n    };\n\n    IPv4.prototype.prefixLengthFromSubnetMask = function () {\n      var cidr, i, k, octet, stop, zeros, zerotable;\n      zerotable = {\n        0: 8,\n        128: 7,\n        192: 6,\n        224: 5,\n        240: 4,\n        248: 3,\n        252: 2,\n        254: 1,\n        255: 0\n      };\n      cidr = 0;\n      stop = false;\n\n      for (i = k = 3; k >= 0; i = k += -1) {\n        octet = this.octets[i];\n\n        if (octet in zerotable) {\n          zeros = zerotable[octet];\n\n          if (stop && zeros !== 0) {\n            return null;\n          }\n\n          if (zeros !== 8) {\n            stop = true;\n          }\n\n          cidr += zeros;\n        } else {\n          return null;\n        }\n      }\n\n      return 32 - cidr;\n    };\n\n    return IPv4;\n  }();\n\n  ipv4Part = \"(0?\\\\d+|0x[a-f0-9]+)\";\n  ipv4Regexes = {\n    fourOctet: new RegExp(\"^\" + ipv4Part + \"\\\\.\" + ipv4Part + \"\\\\.\" + ipv4Part + \"\\\\.\" + ipv4Part + \"$\", 'i'),\n    longValue: new RegExp(\"^\" + ipv4Part + \"$\", 'i')\n  };\n\n  ipaddr.IPv4.parser = function (string) {\n    var match, parseIntAuto, part, shift, value;\n\n    parseIntAuto = function (string) {\n      if (string[0] === \"0\" && string[1] !== \"x\") {\n        return parseInt(string, 8);\n      } else {\n        return parseInt(string);\n      }\n    };\n\n    if (match = string.match(ipv4Regexes.fourOctet)) {\n      return function () {\n        var k, len, ref, results;\n        ref = match.slice(1, 6);\n        results = [];\n\n        for (k = 0, len = ref.length; k < len; k++) {\n          part = ref[k];\n          results.push(parseIntAuto(part));\n        }\n\n        return results;\n      }();\n    } else if (match = string.match(ipv4Regexes.longValue)) {\n      value = parseIntAuto(match[1]);\n\n      if (value > 0xffffffff || value < 0) {\n        throw new Error(\"ipaddr: address outside defined range\");\n      }\n\n      return function () {\n        var k, results;\n        results = [];\n\n        for (shift = k = 0; k <= 24; shift = k += 8) {\n          results.push(value >> shift & 0xff);\n        }\n\n        return results;\n      }().reverse();\n    } else {\n      return null;\n    }\n  };\n\n  ipaddr.IPv6 = function () {\n    function IPv6(parts, zoneId) {\n      var i, k, l, len, part, ref;\n\n      if (parts.length === 16) {\n        this.parts = [];\n\n        for (i = k = 0; k <= 14; i = k += 2) {\n          this.parts.push(parts[i] << 8 | parts[i + 1]);\n        }\n      } else if (parts.length === 8) {\n        this.parts = parts;\n      } else {\n        throw new Error(\"ipaddr: ipv6 part count should be 8 or 16\");\n      }\n\n      ref = this.parts;\n\n      for (l = 0, len = ref.length; l < len; l++) {\n        part = ref[l];\n\n        if (!(0 <= part && part <= 0xffff)) {\n          throw new Error(\"ipaddr: ipv6 part should fit in 16 bits\");\n        }\n      }\n\n      if (zoneId) {\n        this.zoneId = zoneId;\n      }\n    }\n\n    IPv6.prototype.kind = function () {\n      return 'ipv6';\n    };\n\n    IPv6.prototype.toString = function () {\n      return this.toNormalizedString().replace(/((^|:)(0(:|$))+)/, '::');\n    };\n\n    IPv6.prototype.toRFC5952String = function () {\n      var bestMatchIndex, bestMatchLength, match, regex, string;\n      regex = /((^|:)(0(:|$)){2,})/g;\n      string = this.toNormalizedString();\n      bestMatchIndex = 0;\n      bestMatchLength = -1;\n\n      while (match = regex.exec(string)) {\n        if (match[0].length > bestMatchLength) {\n          bestMatchIndex = match.index;\n          bestMatchLength = match[0].length;\n        }\n      }\n\n      if (bestMatchLength < 0) {\n        return string;\n      }\n\n      return string.substring(0, bestMatchIndex) + '::' + string.substring(bestMatchIndex + bestMatchLength);\n    };\n\n    IPv6.prototype.toByteArray = function () {\n      var bytes, k, len, part, ref;\n      bytes = [];\n      ref = this.parts;\n\n      for (k = 0, len = ref.length; k < len; k++) {\n        part = ref[k];\n        bytes.push(part >> 8);\n        bytes.push(part & 0xff);\n      }\n\n      return bytes;\n    };\n\n    IPv6.prototype.toNormalizedString = function () {\n      var addr, part, suffix;\n\n      addr = function () {\n        var k, len, ref, results;\n        ref = this.parts;\n        results = [];\n\n        for (k = 0, len = ref.length; k < len; k++) {\n          part = ref[k];\n          results.push(part.toString(16));\n        }\n\n        return results;\n      }.call(this).join(\":\");\n\n      suffix = '';\n\n      if (this.zoneId) {\n        suffix = '%' + this.zoneId;\n      }\n\n      return addr + suffix;\n    };\n\n    IPv6.prototype.toFixedLengthString = function () {\n      var addr, part, suffix;\n\n      addr = function () {\n        var k, len, ref, results;\n        ref = this.parts;\n        results = [];\n\n        for (k = 0, len = ref.length; k < len; k++) {\n          part = ref[k];\n          results.push(part.toString(16).padStart(4, '0'));\n        }\n\n        return results;\n      }.call(this).join(\":\");\n\n      suffix = '';\n\n      if (this.zoneId) {\n        suffix = '%' + this.zoneId;\n      }\n\n      return addr + suffix;\n    };\n\n    IPv6.prototype.match = function (other, cidrRange) {\n      var ref;\n\n      if (cidrRange === void 0) {\n        ref = other, other = ref[0], cidrRange = ref[1];\n      }\n\n      if (other.kind() !== 'ipv6') {\n        throw new Error(\"ipaddr: cannot match ipv6 address with non-ipv6 one\");\n      }\n\n      return matchCIDR(this.parts, other.parts, 16, cidrRange);\n    };\n\n    IPv6.prototype.SpecialRanges = {\n      unspecified: [new IPv6([0, 0, 0, 0, 0, 0, 0, 0]), 128],\n      linkLocal: [new IPv6([0xfe80, 0, 0, 0, 0, 0, 0, 0]), 10],\n      multicast: [new IPv6([0xff00, 0, 0, 0, 0, 0, 0, 0]), 8],\n      loopback: [new IPv6([0, 0, 0, 0, 0, 0, 0, 1]), 128],\n      uniqueLocal: [new IPv6([0xfc00, 0, 0, 0, 0, 0, 0, 0]), 7],\n      ipv4Mapped: [new IPv6([0, 0, 0, 0, 0, 0xffff, 0, 0]), 96],\n      rfc6145: [new IPv6([0, 0, 0, 0, 0xffff, 0, 0, 0]), 96],\n      rfc6052: [new IPv6([0x64, 0xff9b, 0, 0, 0, 0, 0, 0]), 96],\n      '6to4': [new IPv6([0x2002, 0, 0, 0, 0, 0, 0, 0]), 16],\n      teredo: [new IPv6([0x2001, 0, 0, 0, 0, 0, 0, 0]), 32],\n      reserved: [[new IPv6([0x2001, 0xdb8, 0, 0, 0, 0, 0, 0]), 32]]\n    };\n\n    IPv6.prototype.range = function () {\n      return ipaddr.subnetMatch(this, this.SpecialRanges);\n    };\n\n    IPv6.prototype.isIPv4MappedAddress = function () {\n      return this.range() === 'ipv4Mapped';\n    };\n\n    IPv6.prototype.toIPv4Address = function () {\n      var high, low, ref;\n\n      if (!this.isIPv4MappedAddress()) {\n        throw new Error(\"ipaddr: trying to convert a generic ipv6 address to ipv4\");\n      }\n\n      ref = this.parts.slice(-2), high = ref[0], low = ref[1];\n      return new ipaddr.IPv4([high >> 8, high & 0xff, low >> 8, low & 0xff]);\n    };\n\n    IPv6.prototype.prefixLengthFromSubnetMask = function () {\n      var cidr, i, k, part, stop, zeros, zerotable;\n      zerotable = {\n        0: 16,\n        32768: 15,\n        49152: 14,\n        57344: 13,\n        61440: 12,\n        63488: 11,\n        64512: 10,\n        65024: 9,\n        65280: 8,\n        65408: 7,\n        65472: 6,\n        65504: 5,\n        65520: 4,\n        65528: 3,\n        65532: 2,\n        65534: 1,\n        65535: 0\n      };\n      cidr = 0;\n      stop = false;\n\n      for (i = k = 7; k >= 0; i = k += -1) {\n        part = this.parts[i];\n\n        if (part in zerotable) {\n          zeros = zerotable[part];\n\n          if (stop && zeros !== 0) {\n            return null;\n          }\n\n          if (zeros !== 16) {\n            stop = true;\n          }\n\n          cidr += zeros;\n        } else {\n          return null;\n        }\n      }\n\n      return 128 - cidr;\n    };\n\n    return IPv6;\n  }();\n\n  ipv6Part = \"(?:[0-9a-f]+::?)+\";\n  zoneIndex = \"%[0-9a-z]{1,}\";\n  ipv6Regexes = {\n    zoneIndex: new RegExp(zoneIndex, 'i'),\n    \"native\": new RegExp(\"^(::)?(\" + ipv6Part + \")?([0-9a-f]+)?(::)?(\" + zoneIndex + \")?$\", 'i'),\n    transitional: new RegExp(\"^((?:\" + ipv6Part + \")|(?:::)(?:\" + ipv6Part + \")?)\" + (ipv4Part + \"\\\\.\" + ipv4Part + \"\\\\.\" + ipv4Part + \"\\\\.\" + ipv4Part) + (\"(\" + zoneIndex + \")?$\"), 'i')\n  };\n\n  expandIPv6 = function (string, parts) {\n    var colonCount, lastColon, part, replacement, replacementCount, zoneId;\n\n    if (string.indexOf('::') !== string.lastIndexOf('::')) {\n      return null;\n    }\n\n    zoneId = (string.match(ipv6Regexes['zoneIndex']) || [])[0];\n\n    if (zoneId) {\n      zoneId = zoneId.substring(1);\n      string = string.replace(/%.+$/, '');\n    }\n\n    colonCount = 0;\n    lastColon = -1;\n\n    while ((lastColon = string.indexOf(':', lastColon + 1)) >= 0) {\n      colonCount++;\n    }\n\n    if (string.substr(0, 2) === '::') {\n      colonCount--;\n    }\n\n    if (string.substr(-2, 2) === '::') {\n      colonCount--;\n    }\n\n    if (colonCount > parts) {\n      return null;\n    }\n\n    replacementCount = parts - colonCount;\n    replacement = ':';\n\n    while (replacementCount--) {\n      replacement += '0:';\n    }\n\n    string = string.replace('::', replacement);\n\n    if (string[0] === ':') {\n      string = string.slice(1);\n    }\n\n    if (string[string.length - 1] === ':') {\n      string = string.slice(0, -1);\n    }\n\n    parts = function () {\n      var k, len, ref, results;\n      ref = string.split(\":\");\n      results = [];\n\n      for (k = 0, len = ref.length; k < len; k++) {\n        part = ref[k];\n        results.push(parseInt(part, 16));\n      }\n\n      return results;\n    }();\n\n    return {\n      parts: parts,\n      zoneId: zoneId\n    };\n  };\n\n  ipaddr.IPv6.parser = function (string) {\n    var addr, k, len, match, octet, octets, zoneId;\n\n    if (ipv6Regexes['native'].test(string)) {\n      return expandIPv6(string, 8);\n    } else if (match = string.match(ipv6Regexes['transitional'])) {\n      zoneId = match[6] || '';\n      addr = expandIPv6(match[1].slice(0, -1) + zoneId, 6);\n\n      if (addr.parts) {\n        octets = [parseInt(match[2]), parseInt(match[3]), parseInt(match[4]), parseInt(match[5])];\n\n        for (k = 0, len = octets.length; k < len; k++) {\n          octet = octets[k];\n\n          if (!(0 <= octet && octet <= 255)) {\n            return null;\n          }\n        }\n\n        addr.parts.push(octets[0] << 8 | octets[1]);\n        addr.parts.push(octets[2] << 8 | octets[3]);\n        return {\n          parts: addr.parts,\n          zoneId: addr.zoneId\n        };\n      }\n    }\n\n    return null;\n  };\n\n  ipaddr.IPv4.isIPv4 = ipaddr.IPv6.isIPv6 = function (string) {\n    return this.parser(string) !== null;\n  };\n\n  ipaddr.IPv4.isValid = function (string) {\n    var e;\n\n    try {\n      new this(this.parser(string));\n      return true;\n    } catch (error1) {\n      e = error1;\n      return false;\n    }\n  };\n\n  ipaddr.IPv4.isValidFourPartDecimal = function (string) {\n    if (ipaddr.IPv4.isValid(string) && string.match(/^(0|[1-9]\\d*)(\\.(0|[1-9]\\d*)){3}$/)) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  ipaddr.IPv6.isValid = function (string) {\n    var addr, e;\n\n    if (typeof string === \"string\" && string.indexOf(\":\") === -1) {\n      return false;\n    }\n\n    try {\n      addr = this.parser(string);\n      new this(addr.parts, addr.zoneId);\n      return true;\n    } catch (error1) {\n      e = error1;\n      return false;\n    }\n  };\n\n  ipaddr.IPv4.parse = function (string) {\n    var parts;\n    parts = this.parser(string);\n\n    if (parts === null) {\n      throw new Error(\"ipaddr: string is not formatted like ip address\");\n    }\n\n    return new this(parts);\n  };\n\n  ipaddr.IPv6.parse = function (string) {\n    var addr;\n    addr = this.parser(string);\n\n    if (addr.parts === null) {\n      throw new Error(\"ipaddr: string is not formatted like ip address\");\n    }\n\n    return new this(addr.parts, addr.zoneId);\n  };\n\n  ipaddr.IPv4.parseCIDR = function (string) {\n    var maskLength, match, parsed;\n\n    if (match = string.match(/^(.+)\\/(\\d+)$/)) {\n      maskLength = parseInt(match[2]);\n\n      if (maskLength >= 0 && maskLength <= 32) {\n        parsed = [this.parse(match[1]), maskLength];\n        Object.defineProperty(parsed, 'toString', {\n          value: function () {\n            return this.join('/');\n          }\n        });\n        return parsed;\n      }\n    }\n\n    throw new Error(\"ipaddr: string is not formatted like an IPv4 CIDR range\");\n  };\n\n  ipaddr.IPv4.subnetMaskFromPrefixLength = function (prefix) {\n    var filledOctetCount, j, octets;\n    prefix = parseInt(prefix);\n\n    if (prefix < 0 || prefix > 32) {\n      throw new Error('ipaddr: invalid IPv4 prefix length');\n    }\n\n    octets = [0, 0, 0, 0];\n    j = 0;\n    filledOctetCount = Math.floor(prefix / 8);\n\n    while (j < filledOctetCount) {\n      octets[j] = 255;\n      j++;\n    }\n\n    if (filledOctetCount < 4) {\n      octets[filledOctetCount] = Math.pow(2, prefix % 8) - 1 << 8 - prefix % 8;\n    }\n\n    return new this(octets);\n  };\n\n  ipaddr.IPv4.broadcastAddressFromCIDR = function (string) {\n    var cidr, error, i, ipInterfaceOctets, octets, subnetMaskOctets;\n\n    try {\n      cidr = this.parseCIDR(string);\n      ipInterfaceOctets = cidr[0].toByteArray();\n      subnetMaskOctets = this.subnetMaskFromPrefixLength(cidr[1]).toByteArray();\n      octets = [];\n      i = 0;\n\n      while (i < 4) {\n        octets.push(parseInt(ipInterfaceOctets[i], 10) | parseInt(subnetMaskOctets[i], 10) ^ 255);\n        i++;\n      }\n\n      return new this(octets);\n    } catch (error1) {\n      error = error1;\n      throw new Error('ipaddr: the address does not have IPv4 CIDR format');\n    }\n  };\n\n  ipaddr.IPv4.networkAddressFromCIDR = function (string) {\n    var cidr, error, i, ipInterfaceOctets, octets, subnetMaskOctets;\n\n    try {\n      cidr = this.parseCIDR(string);\n      ipInterfaceOctets = cidr[0].toByteArray();\n      subnetMaskOctets = this.subnetMaskFromPrefixLength(cidr[1]).toByteArray();\n      octets = [];\n      i = 0;\n\n      while (i < 4) {\n        octets.push(parseInt(ipInterfaceOctets[i], 10) & parseInt(subnetMaskOctets[i], 10));\n        i++;\n      }\n\n      return new this(octets);\n    } catch (error1) {\n      error = error1;\n      throw new Error('ipaddr: the address does not have IPv4 CIDR format');\n    }\n  };\n\n  ipaddr.IPv6.parseCIDR = function (string) {\n    var maskLength, match, parsed;\n\n    if (match = string.match(/^(.+)\\/(\\d+)$/)) {\n      maskLength = parseInt(match[2]);\n\n      if (maskLength >= 0 && maskLength <= 128) {\n        parsed = [this.parse(match[1]), maskLength];\n        Object.defineProperty(parsed, 'toString', {\n          value: function () {\n            return this.join('/');\n          }\n        });\n        return parsed;\n      }\n    }\n\n    throw new Error(\"ipaddr: string is not formatted like an IPv6 CIDR range\");\n  };\n\n  ipaddr.isValid = function (string) {\n    return ipaddr.IPv6.isValid(string) || ipaddr.IPv4.isValid(string);\n  };\n\n  ipaddr.parse = function (string) {\n    if (ipaddr.IPv6.isValid(string)) {\n      return ipaddr.IPv6.parse(string);\n    } else if (ipaddr.IPv4.isValid(string)) {\n      return ipaddr.IPv4.parse(string);\n    } else {\n      throw new Error(\"ipaddr: the address has neither IPv6 nor IPv4 format\");\n    }\n  };\n\n  ipaddr.parseCIDR = function (string) {\n    var e;\n\n    try {\n      return ipaddr.IPv6.parseCIDR(string);\n    } catch (error1) {\n      e = error1;\n\n      try {\n        return ipaddr.IPv4.parseCIDR(string);\n      } catch (error1) {\n        e = error1;\n        throw new Error(\"ipaddr: the address has neither IPv6 nor IPv4 CIDR format\");\n      }\n    }\n  };\n\n  ipaddr.fromByteArray = function (bytes) {\n    var length;\n    length = bytes.length;\n\n    if (length === 4) {\n      return new ipaddr.IPv4(bytes);\n    } else if (length === 16) {\n      return new ipaddr.IPv6(bytes);\n    } else {\n      throw new Error(\"ipaddr: the binary input is neither an IPv6 nor IPv4 address\");\n    }\n  };\n\n  ipaddr.process = function (string) {\n    var addr;\n    addr = this.parse(string);\n\n    if (addr.kind() === 'ipv6' && addr.isIPv4MappedAddress()) {\n      return addr.toIPv4Address();\n    } else {\n      return addr;\n    }\n  };\n}).call(this);","map":{"version":3,"sources":["/Users/dhruv/Sneaks/sneaks-website/node_modules/ipaddr.js/lib/ipaddr.js"],"names":["expandIPv6","ipaddr","ipv4Part","ipv4Regexes","ipv6Part","ipv6Regexes","matchCIDR","root","zoneIndex","module","exports","first","second","partSize","cidrBits","part","shift","length","Error","subnetMatch","address","rangeList","defaultName","k","len","rangeName","rangeSubnets","subnet","Array","kind","match","apply","IPv4","octets","octet","prototype","toString","join","toNormalizedString","toByteArray","slice","other","cidrRange","ref","SpecialRanges","unspecified","broadcast","multicast","linkLocal","loopback","carrierGradeNat","reserved","range","toIPv4MappedAddress","IPv6","parse","prefixLengthFromSubnetMask","cidr","i","stop","zeros","zerotable","fourOctet","RegExp","longValue","parser","string","parseIntAuto","value","parseInt","results","push","reverse","parts","zoneId","l","replace","toRFC5952String","bestMatchIndex","bestMatchLength","regex","exec","index","substring","bytes","addr","suffix","call","toFixedLengthString","padStart","uniqueLocal","ipv4Mapped","rfc6145","rfc6052","teredo","isIPv4MappedAddress","toIPv4Address","high","low","transitional","colonCount","lastColon","replacement","replacementCount","indexOf","lastIndexOf","substr","split","test","isIPv4","isIPv6","isValid","e","error1","isValidFourPartDecimal","parseCIDR","maskLength","parsed","Object","defineProperty","subnetMaskFromPrefixLength","prefix","filledOctetCount","j","Math","floor","pow","broadcastAddressFromCIDR","error","ipInterfaceOctets","subnetMaskOctets","networkAddressFromCIDR","fromByteArray","process"],"mappings":"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","sourcesContent":["(function() {\n  var expandIPv6, ipaddr, ipv4Part, ipv4Regexes, ipv6Part, ipv6Regexes, matchCIDR, root, zoneIndex;\n\n  ipaddr = {};\n\n  root = this;\n\n  if ((typeof module !== \"undefined\" && module !== null) && module.exports) {\n    module.exports = ipaddr;\n  } else {\n    root['ipaddr'] = ipaddr;\n  }\n\n  matchCIDR = function(first, second, partSize, cidrBits) {\n    var part, shift;\n    if (first.length !== second.length) {\n      throw new Error(\"ipaddr: cannot match CIDR for objects with different lengths\");\n    }\n    part = 0;\n    while (cidrBits > 0) {\n      shift = partSize - cidrBits;\n      if (shift < 0) {\n        shift = 0;\n      }\n      if (first[part] >> shift !== second[part] >> shift) {\n        return false;\n      }\n      cidrBits -= partSize;\n      part += 1;\n    }\n    return true;\n  };\n\n  ipaddr.subnetMatch = function(address, rangeList, defaultName) {\n    var k, len, rangeName, rangeSubnets, subnet;\n    if (defaultName == null) {\n      defaultName = 'unicast';\n    }\n    for (rangeName in rangeList) {\n      rangeSubnets = rangeList[rangeName];\n      if (rangeSubnets[0] && !(rangeSubnets[0] instanceof Array)) {\n        rangeSubnets = [rangeSubnets];\n      }\n      for (k = 0, len = rangeSubnets.length; k < len; k++) {\n        subnet = rangeSubnets[k];\n        if (address.kind() === subnet[0].kind()) {\n          if (address.match.apply(address, subnet)) {\n            return rangeName;\n          }\n        }\n      }\n    }\n    return defaultName;\n  };\n\n  ipaddr.IPv4 = (function() {\n    function IPv4(octets) {\n      var k, len, octet;\n      if (octets.length !== 4) {\n        throw new Error(\"ipaddr: ipv4 octet count should be 4\");\n      }\n      for (k = 0, len = octets.length; k < len; k++) {\n        octet = octets[k];\n        if (!((0 <= octet && octet <= 255))) {\n          throw new Error(\"ipaddr: ipv4 octet should fit in 8 bits\");\n        }\n      }\n      this.octets = octets;\n    }\n\n    IPv4.prototype.kind = function() {\n      return 'ipv4';\n    };\n\n    IPv4.prototype.toString = function() {\n      return this.octets.join(\".\");\n    };\n\n    IPv4.prototype.toNormalizedString = function() {\n      return this.toString();\n    };\n\n    IPv4.prototype.toByteArray = function() {\n      return this.octets.slice(0);\n    };\n\n    IPv4.prototype.match = function(other, cidrRange) {\n      var ref;\n      if (cidrRange === void 0) {\n        ref = other, other = ref[0], cidrRange = ref[1];\n      }\n      if (other.kind() !== 'ipv4') {\n        throw new Error(\"ipaddr: cannot match ipv4 address with non-ipv4 one\");\n      }\n      return matchCIDR(this.octets, other.octets, 8, cidrRange);\n    };\n\n    IPv4.prototype.SpecialRanges = {\n      unspecified: [[new IPv4([0, 0, 0, 0]), 8]],\n      broadcast: [[new IPv4([255, 255, 255, 255]), 32]],\n      multicast: [[new IPv4([224, 0, 0, 0]), 4]],\n      linkLocal: [[new IPv4([169, 254, 0, 0]), 16]],\n      loopback: [[new IPv4([127, 0, 0, 0]), 8]],\n      carrierGradeNat: [[new IPv4([100, 64, 0, 0]), 10]],\n      \"private\": [[new IPv4([10, 0, 0, 0]), 8], [new IPv4([172, 16, 0, 0]), 12], [new IPv4([192, 168, 0, 0]), 16]],\n      reserved: [[new IPv4([192, 0, 0, 0]), 24], [new IPv4([192, 0, 2, 0]), 24], [new IPv4([192, 88, 99, 0]), 24], [new IPv4([198, 51, 100, 0]), 24], [new IPv4([203, 0, 113, 0]), 24], [new IPv4([240, 0, 0, 0]), 4]]\n    };\n\n    IPv4.prototype.range = function() {\n      return ipaddr.subnetMatch(this, this.SpecialRanges);\n    };\n\n    IPv4.prototype.toIPv4MappedAddress = function() {\n      return ipaddr.IPv6.parse(\"::ffff:\" + (this.toString()));\n    };\n\n    IPv4.prototype.prefixLengthFromSubnetMask = function() {\n      var cidr, i, k, octet, stop, zeros, zerotable;\n      zerotable = {\n        0: 8,\n        128: 7,\n        192: 6,\n        224: 5,\n        240: 4,\n        248: 3,\n        252: 2,\n        254: 1,\n        255: 0\n      };\n      cidr = 0;\n      stop = false;\n      for (i = k = 3; k >= 0; i = k += -1) {\n        octet = this.octets[i];\n        if (octet in zerotable) {\n          zeros = zerotable[octet];\n          if (stop && zeros !== 0) {\n            return null;\n          }\n          if (zeros !== 8) {\n            stop = true;\n          }\n          cidr += zeros;\n        } else {\n          return null;\n        }\n      }\n      return 32 - cidr;\n    };\n\n    return IPv4;\n\n  })();\n\n  ipv4Part = \"(0?\\\\d+|0x[a-f0-9]+)\";\n\n  ipv4Regexes = {\n    fourOctet: new RegExp(\"^\" + ipv4Part + \"\\\\.\" + ipv4Part + \"\\\\.\" + ipv4Part + \"\\\\.\" + ipv4Part + \"$\", 'i'),\n    longValue: new RegExp(\"^\" + ipv4Part + \"$\", 'i')\n  };\n\n  ipaddr.IPv4.parser = function(string) {\n    var match, parseIntAuto, part, shift, value;\n    parseIntAuto = function(string) {\n      if (string[0] === \"0\" && string[1] !== \"x\") {\n        return parseInt(string, 8);\n      } else {\n        return parseInt(string);\n      }\n    };\n    if (match = string.match(ipv4Regexes.fourOctet)) {\n      return (function() {\n        var k, len, ref, results;\n        ref = match.slice(1, 6);\n        results = [];\n        for (k = 0, len = ref.length; k < len; k++) {\n          part = ref[k];\n          results.push(parseIntAuto(part));\n        }\n        return results;\n      })();\n    } else if (match = string.match(ipv4Regexes.longValue)) {\n      value = parseIntAuto(match[1]);\n      if (value > 0xffffffff || value < 0) {\n        throw new Error(\"ipaddr: address outside defined range\");\n      }\n      return ((function() {\n        var k, results;\n        results = [];\n        for (shift = k = 0; k <= 24; shift = k += 8) {\n          results.push((value >> shift) & 0xff);\n        }\n        return results;\n      })()).reverse();\n    } else {\n      return null;\n    }\n  };\n\n  ipaddr.IPv6 = (function() {\n    function IPv6(parts, zoneId) {\n      var i, k, l, len, part, ref;\n      if (parts.length === 16) {\n        this.parts = [];\n        for (i = k = 0; k <= 14; i = k += 2) {\n          this.parts.push((parts[i] << 8) | parts[i + 1]);\n        }\n      } else if (parts.length === 8) {\n        this.parts = parts;\n      } else {\n        throw new Error(\"ipaddr: ipv6 part count should be 8 or 16\");\n      }\n      ref = this.parts;\n      for (l = 0, len = ref.length; l < len; l++) {\n        part = ref[l];\n        if (!((0 <= part && part <= 0xffff))) {\n          throw new Error(\"ipaddr: ipv6 part should fit in 16 bits\");\n        }\n      }\n      if (zoneId) {\n        this.zoneId = zoneId;\n      }\n    }\n\n    IPv6.prototype.kind = function() {\n      return 'ipv6';\n    };\n\n    IPv6.prototype.toString = function() {\n      return this.toNormalizedString().replace(/((^|:)(0(:|$))+)/, '::');\n    };\n\n    IPv6.prototype.toRFC5952String = function() {\n      var bestMatchIndex, bestMatchLength, match, regex, string;\n      regex = /((^|:)(0(:|$)){2,})/g;\n      string = this.toNormalizedString();\n      bestMatchIndex = 0;\n      bestMatchLength = -1;\n      while ((match = regex.exec(string))) {\n        if (match[0].length > bestMatchLength) {\n          bestMatchIndex = match.index;\n          bestMatchLength = match[0].length;\n        }\n      }\n      if (bestMatchLength < 0) {\n        return string;\n      }\n      return string.substring(0, bestMatchIndex) + '::' + string.substring(bestMatchIndex + bestMatchLength);\n    };\n\n    IPv6.prototype.toByteArray = function() {\n      var bytes, k, len, part, ref;\n      bytes = [];\n      ref = this.parts;\n      for (k = 0, len = ref.length; k < len; k++) {\n        part = ref[k];\n        bytes.push(part >> 8);\n        bytes.push(part & 0xff);\n      }\n      return bytes;\n    };\n\n    IPv6.prototype.toNormalizedString = function() {\n      var addr, part, suffix;\n      addr = ((function() {\n        var k, len, ref, results;\n        ref = this.parts;\n        results = [];\n        for (k = 0, len = ref.length; k < len; k++) {\n          part = ref[k];\n          results.push(part.toString(16));\n        }\n        return results;\n      }).call(this)).join(\":\");\n      suffix = '';\n      if (this.zoneId) {\n        suffix = '%' + this.zoneId;\n      }\n      return addr + suffix;\n    };\n\n    IPv6.prototype.toFixedLengthString = function() {\n      var addr, part, suffix;\n      addr = ((function() {\n        var k, len, ref, results;\n        ref = this.parts;\n        results = [];\n        for (k = 0, len = ref.length; k < len; k++) {\n          part = ref[k];\n          results.push(part.toString(16).padStart(4, '0'));\n        }\n        return results;\n      }).call(this)).join(\":\");\n      suffix = '';\n      if (this.zoneId) {\n        suffix = '%' + this.zoneId;\n      }\n      return addr + suffix;\n    };\n\n    IPv6.prototype.match = function(other, cidrRange) {\n      var ref;\n      if (cidrRange === void 0) {\n        ref = other, other = ref[0], cidrRange = ref[1];\n      }\n      if (other.kind() !== 'ipv6') {\n        throw new Error(\"ipaddr: cannot match ipv6 address with non-ipv6 one\");\n      }\n      return matchCIDR(this.parts, other.parts, 16, cidrRange);\n    };\n\n    IPv6.prototype.SpecialRanges = {\n      unspecified: [new IPv6([0, 0, 0, 0, 0, 0, 0, 0]), 128],\n      linkLocal: [new IPv6([0xfe80, 0, 0, 0, 0, 0, 0, 0]), 10],\n      multicast: [new IPv6([0xff00, 0, 0, 0, 0, 0, 0, 0]), 8],\n      loopback: [new IPv6([0, 0, 0, 0, 0, 0, 0, 1]), 128],\n      uniqueLocal: [new IPv6([0xfc00, 0, 0, 0, 0, 0, 0, 0]), 7],\n      ipv4Mapped: [new IPv6([0, 0, 0, 0, 0, 0xffff, 0, 0]), 96],\n      rfc6145: [new IPv6([0, 0, 0, 0, 0xffff, 0, 0, 0]), 96],\n      rfc6052: [new IPv6([0x64, 0xff9b, 0, 0, 0, 0, 0, 0]), 96],\n      '6to4': [new IPv6([0x2002, 0, 0, 0, 0, 0, 0, 0]), 16],\n      teredo: [new IPv6([0x2001, 0, 0, 0, 0, 0, 0, 0]), 32],\n      reserved: [[new IPv6([0x2001, 0xdb8, 0, 0, 0, 0, 0, 0]), 32]]\n    };\n\n    IPv6.prototype.range = function() {\n      return ipaddr.subnetMatch(this, this.SpecialRanges);\n    };\n\n    IPv6.prototype.isIPv4MappedAddress = function() {\n      return this.range() === 'ipv4Mapped';\n    };\n\n    IPv6.prototype.toIPv4Address = function() {\n      var high, low, ref;\n      if (!this.isIPv4MappedAddress()) {\n        throw new Error(\"ipaddr: trying to convert a generic ipv6 address to ipv4\");\n      }\n      ref = this.parts.slice(-2), high = ref[0], low = ref[1];\n      return new ipaddr.IPv4([high >> 8, high & 0xff, low >> 8, low & 0xff]);\n    };\n\n    IPv6.prototype.prefixLengthFromSubnetMask = function() {\n      var cidr, i, k, part, stop, zeros, zerotable;\n      zerotable = {\n        0: 16,\n        32768: 15,\n        49152: 14,\n        57344: 13,\n        61440: 12,\n        63488: 11,\n        64512: 10,\n        65024: 9,\n        65280: 8,\n        65408: 7,\n        65472: 6,\n        65504: 5,\n        65520: 4,\n        65528: 3,\n        65532: 2,\n        65534: 1,\n        65535: 0\n      };\n      cidr = 0;\n      stop = false;\n      for (i = k = 7; k >= 0; i = k += -1) {\n        part = this.parts[i];\n        if (part in zerotable) {\n          zeros = zerotable[part];\n          if (stop && zeros !== 0) {\n            return null;\n          }\n          if (zeros !== 16) {\n            stop = true;\n          }\n          cidr += zeros;\n        } else {\n          return null;\n        }\n      }\n      return 128 - cidr;\n    };\n\n    return IPv6;\n\n  })();\n\n  ipv6Part = \"(?:[0-9a-f]+::?)+\";\n\n  zoneIndex = \"%[0-9a-z]{1,}\";\n\n  ipv6Regexes = {\n    zoneIndex: new RegExp(zoneIndex, 'i'),\n    \"native\": new RegExp(\"^(::)?(\" + ipv6Part + \")?([0-9a-f]+)?(::)?(\" + zoneIndex + \")?$\", 'i'),\n    transitional: new RegExp((\"^((?:\" + ipv6Part + \")|(?:::)(?:\" + ipv6Part + \")?)\") + (ipv4Part + \"\\\\.\" + ipv4Part + \"\\\\.\" + ipv4Part + \"\\\\.\" + ipv4Part) + (\"(\" + zoneIndex + \")?$\"), 'i')\n  };\n\n  expandIPv6 = function(string, parts) {\n    var colonCount, lastColon, part, replacement, replacementCount, zoneId;\n    if (string.indexOf('::') !== string.lastIndexOf('::')) {\n      return null;\n    }\n    zoneId = (string.match(ipv6Regexes['zoneIndex']) || [])[0];\n    if (zoneId) {\n      zoneId = zoneId.substring(1);\n      string = string.replace(/%.+$/, '');\n    }\n    colonCount = 0;\n    lastColon = -1;\n    while ((lastColon = string.indexOf(':', lastColon + 1)) >= 0) {\n      colonCount++;\n    }\n    if (string.substr(0, 2) === '::') {\n      colonCount--;\n    }\n    if (string.substr(-2, 2) === '::') {\n      colonCount--;\n    }\n    if (colonCount > parts) {\n      return null;\n    }\n    replacementCount = parts - colonCount;\n    replacement = ':';\n    while (replacementCount--) {\n      replacement += '0:';\n    }\n    string = string.replace('::', replacement);\n    if (string[0] === ':') {\n      string = string.slice(1);\n    }\n    if (string[string.length - 1] === ':') {\n      string = string.slice(0, -1);\n    }\n    parts = (function() {\n      var k, len, ref, results;\n      ref = string.split(\":\");\n      results = [];\n      for (k = 0, len = ref.length; k < len; k++) {\n        part = ref[k];\n        results.push(parseInt(part, 16));\n      }\n      return results;\n    })();\n    return {\n      parts: parts,\n      zoneId: zoneId\n    };\n  };\n\n  ipaddr.IPv6.parser = function(string) {\n    var addr, k, len, match, octet, octets, zoneId;\n    if (ipv6Regexes['native'].test(string)) {\n      return expandIPv6(string, 8);\n    } else if (match = string.match(ipv6Regexes['transitional'])) {\n      zoneId = match[6] || '';\n      addr = expandIPv6(match[1].slice(0, -1) + zoneId, 6);\n      if (addr.parts) {\n        octets = [parseInt(match[2]), parseInt(match[3]), parseInt(match[4]), parseInt(match[5])];\n        for (k = 0, len = octets.length; k < len; k++) {\n          octet = octets[k];\n          if (!((0 <= octet && octet <= 255))) {\n            return null;\n          }\n        }\n        addr.parts.push(octets[0] << 8 | octets[1]);\n        addr.parts.push(octets[2] << 8 | octets[3]);\n        return {\n          parts: addr.parts,\n          zoneId: addr.zoneId\n        };\n      }\n    }\n    return null;\n  };\n\n  ipaddr.IPv4.isIPv4 = ipaddr.IPv6.isIPv6 = function(string) {\n    return this.parser(string) !== null;\n  };\n\n  ipaddr.IPv4.isValid = function(string) {\n    var e;\n    try {\n      new this(this.parser(string));\n      return true;\n    } catch (error1) {\n      e = error1;\n      return false;\n    }\n  };\n\n  ipaddr.IPv4.isValidFourPartDecimal = function(string) {\n    if (ipaddr.IPv4.isValid(string) && string.match(/^(0|[1-9]\\d*)(\\.(0|[1-9]\\d*)){3}$/)) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  ipaddr.IPv6.isValid = function(string) {\n    var addr, e;\n    if (typeof string === \"string\" && string.indexOf(\":\") === -1) {\n      return false;\n    }\n    try {\n      addr = this.parser(string);\n      new this(addr.parts, addr.zoneId);\n      return true;\n    } catch (error1) {\n      e = error1;\n      return false;\n    }\n  };\n\n  ipaddr.IPv4.parse = function(string) {\n    var parts;\n    parts = this.parser(string);\n    if (parts === null) {\n      throw new Error(\"ipaddr: string is not formatted like ip address\");\n    }\n    return new this(parts);\n  };\n\n  ipaddr.IPv6.parse = function(string) {\n    var addr;\n    addr = this.parser(string);\n    if (addr.parts === null) {\n      throw new Error(\"ipaddr: string is not formatted like ip address\");\n    }\n    return new this(addr.parts, addr.zoneId);\n  };\n\n  ipaddr.IPv4.parseCIDR = function(string) {\n    var maskLength, match, parsed;\n    if (match = string.match(/^(.+)\\/(\\d+)$/)) {\n      maskLength = parseInt(match[2]);\n      if (maskLength >= 0 && maskLength <= 32) {\n        parsed = [this.parse(match[1]), maskLength];\n        Object.defineProperty(parsed, 'toString', {\n          value: function() {\n            return this.join('/');\n          }\n        });\n        return parsed;\n      }\n    }\n    throw new Error(\"ipaddr: string is not formatted like an IPv4 CIDR range\");\n  };\n\n  ipaddr.IPv4.subnetMaskFromPrefixLength = function(prefix) {\n    var filledOctetCount, j, octets;\n    prefix = parseInt(prefix);\n    if (prefix < 0 || prefix > 32) {\n      throw new Error('ipaddr: invalid IPv4 prefix length');\n    }\n    octets = [0, 0, 0, 0];\n    j = 0;\n    filledOctetCount = Math.floor(prefix / 8);\n    while (j < filledOctetCount) {\n      octets[j] = 255;\n      j++;\n    }\n    if (filledOctetCount < 4) {\n      octets[filledOctetCount] = Math.pow(2, prefix % 8) - 1 << 8 - (prefix % 8);\n    }\n    return new this(octets);\n  };\n\n  ipaddr.IPv4.broadcastAddressFromCIDR = function(string) {\n    var cidr, error, i, ipInterfaceOctets, octets, subnetMaskOctets;\n    try {\n      cidr = this.parseCIDR(string);\n      ipInterfaceOctets = cidr[0].toByteArray();\n      subnetMaskOctets = this.subnetMaskFromPrefixLength(cidr[1]).toByteArray();\n      octets = [];\n      i = 0;\n      while (i < 4) {\n        octets.push(parseInt(ipInterfaceOctets[i], 10) | parseInt(subnetMaskOctets[i], 10) ^ 255);\n        i++;\n      }\n      return new this(octets);\n    } catch (error1) {\n      error = error1;\n      throw new Error('ipaddr: the address does not have IPv4 CIDR format');\n    }\n  };\n\n  ipaddr.IPv4.networkAddressFromCIDR = function(string) {\n    var cidr, error, i, ipInterfaceOctets, octets, subnetMaskOctets;\n    try {\n      cidr = this.parseCIDR(string);\n      ipInterfaceOctets = cidr[0].toByteArray();\n      subnetMaskOctets = this.subnetMaskFromPrefixLength(cidr[1]).toByteArray();\n      octets = [];\n      i = 0;\n      while (i < 4) {\n        octets.push(parseInt(ipInterfaceOctets[i], 10) & parseInt(subnetMaskOctets[i], 10));\n        i++;\n      }\n      return new this(octets);\n    } catch (error1) {\n      error = error1;\n      throw new Error('ipaddr: the address does not have IPv4 CIDR format');\n    }\n  };\n\n  ipaddr.IPv6.parseCIDR = function(string) {\n    var maskLength, match, parsed;\n    if (match = string.match(/^(.+)\\/(\\d+)$/)) {\n      maskLength = parseInt(match[2]);\n      if (maskLength >= 0 && maskLength <= 128) {\n        parsed = [this.parse(match[1]), maskLength];\n        Object.defineProperty(parsed, 'toString', {\n          value: function() {\n            return this.join('/');\n          }\n        });\n        return parsed;\n      }\n    }\n    throw new Error(\"ipaddr: string is not formatted like an IPv6 CIDR range\");\n  };\n\n  ipaddr.isValid = function(string) {\n    return ipaddr.IPv6.isValid(string) || ipaddr.IPv4.isValid(string);\n  };\n\n  ipaddr.parse = function(string) {\n    if (ipaddr.IPv6.isValid(string)) {\n      return ipaddr.IPv6.parse(string);\n    } else if (ipaddr.IPv4.isValid(string)) {\n      return ipaddr.IPv4.parse(string);\n    } else {\n      throw new Error(\"ipaddr: the address has neither IPv6 nor IPv4 format\");\n    }\n  };\n\n  ipaddr.parseCIDR = function(string) {\n    var e;\n    try {\n      return ipaddr.IPv6.parseCIDR(string);\n    } catch (error1) {\n      e = error1;\n      try {\n        return ipaddr.IPv4.parseCIDR(string);\n      } catch (error1) {\n        e = error1;\n        throw new Error(\"ipaddr: the address has neither IPv6 nor IPv4 CIDR format\");\n      }\n    }\n  };\n\n  ipaddr.fromByteArray = function(bytes) {\n    var length;\n    length = bytes.length;\n    if (length === 4) {\n      return new ipaddr.IPv4(bytes);\n    } else if (length === 16) {\n      return new ipaddr.IPv6(bytes);\n    } else {\n      throw new Error(\"ipaddr: the binary input is neither an IPv6 nor IPv4 address\");\n    }\n  };\n\n  ipaddr.process = function(string) {\n    var addr;\n    addr = this.parse(string);\n    if (addr.kind() === 'ipv6' && addr.isIPv4MappedAddress()) {\n      return addr.toIPv4Address();\n    } else {\n      return addr;\n    }\n  };\n\n}).call(this);\n"]},"metadata":{},"sourceType":"script"}